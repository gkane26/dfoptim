<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Hooke-Jeeves derivative-free minimization algorithm — hjk • dfoptim</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">dfoptim</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hwborchers/dfoptim/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Hooke-Jeeves derivative-free minimization algorithm</h1>
    </div>

    
    <p>An implementation of the Hooke-Jeeves algorithm for derivative-free
  optimization.  A bounded and an unbounded version are provided.</p>
    

    <pre class="usage"><span class='fu'>hjk</span>(<span class='no'>par</span>, <span class='no'>fn</span>, <span class='kw'>control</span> <span class='kw'>=</span> <span class='fu'>list</span>(), <span class='no'>...</span>)

<span class='fu'>hjkb</span>(<span class='no'>par</span>, <span class='no'>fn</span>, <span class='kw'>lower</span> <span class='kw'>=</span> -<span class='fl'>Inf</span>, <span class='kw'>upper</span> <span class='kw'>=</span> <span class='fl'>Inf</span>, <span class='kw'>control</span> <span class='kw'>=</span> <span class='fu'>list</span>(), <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>par</th>
      <td><p>Starting vector of parameter values.    The initial vector may lie on the boundary. If <code>lower[i]=upper[i]</code>
  for some <code>i</code>, the <code>i</code>-th component of the solution vector will
  simply be kept fixed.</p></td>
    </tr>
    <tr>
      <th>fn</th>
      <td><p>Nonlinear objective function that is to be optimized. 
            A scalar function that takes a real vector as argument and 
            returns a scalar that is the value of the function at that point.</p></td>
    </tr>
    <tr>
      <th>lower, upper</th>
      <td><p>Lower and upper bounds on the parameters.
                      A vector of the same length as the parameters.
                      If a single value is specified, it is assumed that the 
                      same bound applies to all parameters. The
                      starting parameter values must lie within the bounds.</p></td>
    </tr>
    <tr>
      <th>control</th>
      <td><p>A list of control parameters.
                 See <b>Details</b> for more information.</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>Additional arguments passed to <code>fn</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Argument <code>control</code> is a list specifing changes to default values of
  algorithm control parameters.
  Note that parameter names may be abbreviated as long as they are unique.</p>
<p>The list items are as follows:</p><dl class='dl-horizontal'>
  <dt><code>tol</code></dt><dd><p>Convergence tolerance. Iteration is terminated when the 
  step length of the main loop becomes smaller than <code>tol</code>. This does
  <em>not</em> imply that the optimum is found with the same accuracy.
  Default is 1.e-06.</p></dd>
    <dt><code>maxfeval</code></dt><dd><p>Maximum number of objective function evaluations 
  allowed. Default is Inf, that is no restriction at all.</p></dd>
    <dt><code>maximize</code></dt><dd><p>A logical indicating whether the objective function 
  is to be maximized (TRUE) or minimized (FALSE). Default is FALSE.</p></dd>
    <dt><code>target</code></dt><dd><p>A real number restricting the absolute function value. 
  The procedure stops if this value is exceeded.
  Default is Inf, that is no restriction.</p></dd>
    <dt><code>info</code></dt><dd><p>A logical variable indicating whether the step number, 
  number of function calls, best function value, and the first component of
  the solution vector will be printed to the console. Default is FALSE.</p></dd>
  </dl><p>If the minimization process threatens to go into an infinite loop, set
  either <code>maxfeval</code> or <code>target</code>.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list with the following components:</p>
<dt>par</dt><dd><p>Best estimate of the parameter vector found by the algorithm.</p></dd>

  <dt>value</dt><dd><p>value of the objective function at termination.</p></dd>

  <dt>convergence</dt><dd><p>indicates convergence (<code>=0</code>) or not (<code>=1</code>).</p></dd>

  <dt>feval</dt><dd><p>number of times the objective <code>fn</code> was evaluated.</p></dd>

  <dt>niter</dt><dd><p>number of iterations in the main loop.</p></dd>

    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>C.T. Kelley (1999), Iterative Methods for Optimization, SIAM.</p>
<p>Quarteroni, Sacco, and Saleri (2007), Numerical Mathematics, Springer.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This algorithm is based on the Matlab code of Prof. C. T. Kelley, given
  in his book ``Iterative methods for optimization".
  It is implemented here with the permission of Prof. Kelley.</p>
<p>This version does not (yet) implement a cache for storing function values
  that have already been computed as searching the cache makes it slower.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code>optim</code>, <code><a href='nmkb.html'>nmk</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>##  Hooke-Jeeves solves high-dim. Rosenbrock function</span>
  <span class='no'>rosenbrock</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>x</span>){
    <span class='no'>n</span> <span class='kw'>&lt;-</span> <span class='fu'>length</span>(<span class='no'>x</span>)
    <span class='fu'>sum</span> (<span class='fl'>100</span>*(<span class='no'>x</span>[<span class='fl'>1</span>:(<span class='no'>n</span>-<span class='fl'>1</span>)]^<span class='fl'>2</span> - <span class='no'>x</span>[<span class='fl'>2</span>:<span class='no'>n</span>])^<span class='fl'>2</span> + (<span class='no'>x</span>[<span class='fl'>1</span>:(<span class='no'>n</span>-<span class='fl'>1</span>)] - <span class='fl'>1</span>)^<span class='fl'>2</span>)
  }
<span class='no'>par0</span> <span class='kw'>&lt;-</span> <span class='fu'>rep</span>(<span class='fl'>0</span>, <span class='fl'>10</span>)
<span class='fu'>hjk</span>(<span class='no'>par0</span>, <span class='no'>rosenbrock</span>)</div><div class='output co'>#&gt; $par
#&gt;  [1] 0.9999962 0.9999924 0.9999847 0.9999657 0.9999313 0.9998627 0.9997253
#&gt;  [8] 0.9994507 0.9989014 0.9978027
#&gt; 
#&gt; $value
#&gt; [1] 1.610849e-06
#&gt; 
#&gt; $convergence
#&gt; [1] 0
#&gt; 
#&gt; $feval
#&gt; [1] 5820
#&gt; 
#&gt; $niter
#&gt; [1] 19
#&gt; </div><div class='input'>
<span class='fu'>hjkb</span>(<span class='fu'>c</span>(<span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>), <span class='no'>rosenbrock</span>, <span class='kw'>upper</span> <span class='kw'>=</span> <span class='fl'>0.5</span>)</div><div class='output co'>#&gt; $par
#&gt; [1] 0.50000000 0.25742340 0.06626511
#&gt; 
#&gt; $value
#&gt; [1] 0.8069307
#&gt; 
#&gt; $convergence
#&gt; [1] 0
#&gt; 
#&gt; $feval
#&gt; [1] 219
#&gt; 
#&gt; $niter
#&gt; [1] 19
#&gt; </div><div class='input'><span class='co'># $par</span>
<span class='co'># [1] 0.50000000 0.25742722 0.06626892</span>


<span class='co'>##  Hooke-Jeeves does not work well on non-smooth functions</span>
  <span class='no'>nsf</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>x</span>) {
        <span class='no'>f1</span> <span class='kw'>&lt;-</span> <span class='no'>x</span>[<span class='fl'>1</span>]^<span class='fl'>2</span> + <span class='no'>x</span>[<span class='fl'>2</span>]^<span class='fl'>2</span>
        <span class='no'>f2</span> <span class='kw'>&lt;-</span> <span class='no'>x</span>[<span class='fl'>1</span>]^<span class='fl'>2</span> + <span class='no'>x</span>[<span class='fl'>2</span>]^<span class='fl'>2</span> + <span class='fl'>10</span> * (-<span class='fl'>4</span>*<span class='no'>x</span>[<span class='fl'>1</span>] - <span class='no'>x</span>[<span class='fl'>2</span>] + <span class='fl'>4</span>)
        <span class='no'>f3</span> <span class='kw'>&lt;-</span> <span class='no'>x</span>[<span class='fl'>1</span>]^<span class='fl'>2</span> + <span class='no'>x</span>[<span class='fl'>2</span>]^<span class='fl'>2</span> + <span class='fl'>10</span> * (-<span class='no'>x</span>[<span class='fl'>1</span>] - <span class='fl'>2</span>*<span class='no'>x</span>[<span class='fl'>2</span>] + <span class='fl'>6</span>)
        <span class='fu'>max</span>(<span class='no'>f1</span>, <span class='no'>f2</span>, <span class='no'>f3</span>)
  }
<span class='no'>par0</span> <span class='kw'>&lt;-</span> <span class='fu'>c</span>(<span class='fl'>1</span>, <span class='fl'>1</span>)                                 <span class='co'># true min 7.2 at (1.2, 2.4)</span>
<span class='fu'>hjk</span>(<span class='no'>par0</span>, <span class='no'>nsf</span>) <span class='co'># fmin=8 at xmin=(2,2)</span></div><div class='output co'>#&gt; $par
#&gt; [1] 2 2
#&gt; 
#&gt; $value
#&gt; [1] 8
#&gt; 
#&gt; $convergence
#&gt; [1] 0
#&gt; 
#&gt; $feval
#&gt; [1] 104
#&gt; 
#&gt; $niter
#&gt; [1] 19
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
  Hans W Borchers  &lt;hwborchers@googlemail.com&gt;

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Ravi Varadhan, Hans W. Borchers.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
